# Домашнее задание к занятию </br> «Базы данных» - </br>

## Игорь Левин
 
---
### Легенда

Заказчик передал вам [файл в формате Excel](https://github.com/netology-code/sdb-homeworks/blob/main/resources/hw-12-1.xlsx), в котором сформирован отчёт. 

На основе этого отчёта нужно выполнить следующие задания.

### Задание 1

Опишите не менее семи таблиц, из которых состоит база данных:

- какие данные хранятся в этих таблицах;
- какой тип данных у столбцов в этих таблицах, если данные хранятся в PostgreSQL.

Приведите решение к следующему виду:

Сотрудники (

- идентификатор, первичный ключ, serial,
- фамилия varchar(50),
- ...
- идентификатор структурного подразделения, внешний ключ, integer).

---

**Выполнение задания 1.**


- Таблица "Сотрудники" , в ней хранятся ФИО Сотрудников, текстовые данные, в sql тип данных `varchar`
- Таблица "Подразделения",  в ней хранятся наименования структурных подразделений,текстовые данные,в sql тип данных `varchar`
- Таблица "Тип подразделения", в этой таблице подраздаеления объединены в своеобразные группы по опредеоенному типу деятельности,текстовые данные,в sql тип данных `varchar`
- Таблица "Должность", в этой таблице каждому сотруднику присвоена должность,текстовые данные,в sql тип данных `varchar`
- Таблица "Оклад", в этой таблице указан оклад сотрудника,текстовые данные,в sql тип данных `decimal`, наиболее походящий для хранения денежных значений
- Таблица "Дата найма",числовые данные,в sql тип данных `int`
- Таблица "Адрес филиала", Таблица содержит адреса филиалов,текстовые данные,в sql тип данных `varchar`
- Таблица "Проекты", Название проектов (Проект на который назначен), на которые назначен сотрудник,текстовые данные,в sql  тип данных `varchar`

---
 Приведем таблицу в Excel в вид таблиц базы данных 
 
- Таблица "Сотрудники" 
- Таблица "Подразделения"
- Таблица "Тип подразделения"
- Таблица "Должность"
- Таблица "Оклад"
- Таблица "Дата найма"
- Таблица "Адрес филиала",
  и разделим:
- Таблицы "Регион"; "Город"; "Улица"; "Дом"

 
```
"Сотрудники"(
- id SERIAL PRIMARY KEY,
- name varchar(50) NOT NULL,
- strid integer,		/* "Подразделения" */
- postid integer,		/* "Должность" */
- balanceid integer,	/* "Оклад" */
- dtnaimid integer,		/* "Дата найма" */
- addresid integer,		/* "Адрес филиала" */
- projectis integer,	/* "Проекты" */
- PRIMARY KEY (ID)
)
```
```
"Подразделения"(
- id SERIAL PRIMARY KEY,
- strid integer,
- typeid integer, 		/*"Тип подразделения" */
- title varchar(50) NOT NULL,

)
```
```
"Тип подразделения"(
- id SERIAL PRIMARY KEY,
- typeid integer,
- title varchar(50) NOT NULL,
- PRIMARY KEY (ID)
)
```
```
"Должность"(
- id SERIAL PRIMARY KEY,
- postid integer,
- post varchar(100) NOT NULL,
- PRIMARY KEY (ID)
)
```
```
"Оклад"(
- id SERIAL PRIMARY KEY,
- balanceid integer,
- balance DECIMAL(10,2),
- PRIMARY KEY (ID)
)
```
```
"Дата найма"(
- id SERIAL PRIMARY KEY,
- dtnaimid integer,
- dtnaim integer,
- PRIMARY KEY (ID)
)
```
```
"Адрес"(
- id SERIAL PRIMARY KEY,
- addressid integer,
- regionsid integer,	/*"Таблица Регион"*/
- citysid integer,		/*"Таблица город"*/
- streetid integer,		/*"Таблица Улица"*/
- homeid integer,		/*"Таблица дом"*/
- PRIMARY KEY (ID)
);
```
```
"Таблица Регион"(
- id SERIAL PRIMARY KEY,
- regionsid integer,
- region varchar(50) NOT NULL,
- PRIMARY KEY (ID)
);
```
```
"Таблица город"(
- id SERIAL PRIMARY KEY,
- citysid integer,
- city varchar(50) NOT NULL,
- PRIMARY KEY (ID)
);
```

```
"Таблица Улица"(
- id SERIAL PRIMARY KEY,
- streetid integer,
- street varchar(50) NOT NULL,
- PRIMARY KEY (ID)
);
```
```
"Таблица дом"(
- id SERIAL PRIMARY KEY,
- homeid integer,
- home varchar(50) NOT NULL,
- PRIMARY KEY (ID)
);
```
```
"Проекты"(
- id SERIAL PRIMARY KEY,
- projectis integer,	
- prname varchar(50) NOT NULL
)
```



---

### Задание 2*

Перечислите, какие, на ваш взгляд, в этой денормализованной таблице встречаются функциональные зависимости и какие правила вывода нужно применить, чтобы нормализовать данные.

---

**Выполнение задания 2*.**

---
В денормализованной таблице данные хранятся в повторяющихся группах или дублируются,  это может привести к избыточности данных и потере целостности.
В нормализованной форме каждая таблица должна хранить информацию только об одной сущности, а каждая ячейка таблицы должна содержать только одно значение.
В приведенной таблице Excel видны Функциональные зависимости (зависимость значения одного атрибута от другого) в столбцах: "ФИО сотрудника" и "Оклад".

Преобразуем данные в формат хранения  базы данных, раделив по соответсвующим таблицам, вариант можно представить ввиде диаграммы:

 ![test.png](https://github.com/elekpow/netology/blob/main/reldb/lesson1/images/test.png)

