# Домашнее задание к занятию "Циклы и функции." 

------
### Задание 1.

Напишите скрипт.

Скрипт должен выводить на экран все числа от 1 до 100, которые делятся на 3.

Для выполнения задания используйте цикл.
---

**Выполнение задания 1.**

``` 
#!/bin/bash
for ((i=1; i <= 100; i++));
do
        if [ $((i%3)) -eq 0 ]; then
        echo "$i";
        fi;
done

```


![img4.jpg](https://github.com/elekpow/netology/blob/main/bash/images/img4.jpg)



------
### Задание 2.

Напишите скрипт, который каждые 5 секунд будет выводить на экран текущее время и содержимое файла `/proc/loadavg`.

Для выполнения задания используйте цикл.
---

**Выполнение задания 2.**

```
#!bin/bash
while sleep 5;
do
echo $(date '+%H:%M:%S') $(cat /proc/loadavg);
done
```

![img5.jpg](https://github.com/elekpow/netology/blob/main/bash/images/img5.jpg)




------
### Задание 3.

Напишите функцию для подсчета среднего размера файла в директории. 

 - путь к директории должен передаваться параметром, например `avgfile /home/username`;
 - функция должна проверять, что такая директория существует, подсчитывать и выводить на экран средний размер файла в ней;
 - при подсчете не нужно учитывать поддиректории и символьные ссылки, считать только средний размер файлов в заданной директории.
 - для вывода среднего достаточно использовать целочисленное значение (стандартное деление в bash)

Предлагается выполнить задание сначала без открытия подсказки своим способом, при возникновении сложностей воспользоваться подробным алгоритмом решения, который описан ниже.
<details>
  <summary>Подсказка - Примерный алгоритм решения</summary>

  1. В скрипте объявите функцию. Поместите аргумент в переменную с понятным названием. Проверьте, существует ли заданная в аргументе директория с помощью if.

  2. Внутри функции объявите вспомогательные переменные. Одна переменная будет служить для сохранения суммы размеров всех файлов в директории, а другая будет содержать количество файлов.

  3. Для перебора файлов внутри директории используйте цикл for.

  4. Внутри цикла с помощью if проверяйте, является ли данный объект файлом.

  5. Если это файл, то к переменной суммы добавляйте размер файла и увеличивайте на один переменную с количеством файлов (получить размер одного файла можно с помощью `stat -c "%s" filename`).

  6. После выхода из цикла for (перебора всех файлов в директории), разделите значение переменной с суммой размеров файлов на количество этих файлов и выведите результат на экран.

  7. В конце скрипта, вызовите только что написанную функцию с аргументом, например `avgfile $1`

  8. Запускайте скрипт `./script3.sh /home/username` и смотрите результат. 
 
  9. (необязательно) Если все работает, данную функцию можно добавить к себе в `.bash_profile` и использовать для работы.

</details>


---

**Выполнение задания 3.**


```
#!/bin/bash
name=$1
func-d () {
        if [[ -L $name ]]; then
           if [[ -e $name ]]; then
              echo  "this simlink"
           else
              echo "OK"
           fi
        elif [[ -e $name ]]; then
              echo "this dir"
        d_files=`ls -lA $name  | grep ^- |wc -l`
        d_files_sz=`du -s $name| cut -f1`
              echo $(($d_files_sz/$d_files))
        else
              echo "this is not dir or not exist"
        fi
}
#echo "enter dir"
func-d $name
```

![img6.jpg](https://github.com/elekpow/netology/blob/main/bash/images/img6.jpg)


