  # Домашнее задание к занятию <br/> ***«Базы данных, их типы» <br/>  Левин Игорь***

---

### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

*Приведите ответ в свободной форме.*

---

**Выполнение задания 1.**

**Кейс 1.1**  
 Для выполнения задач бюджетирования проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков, можно рассмотреть использование реляционных СУБД. Реляционные СУБД поддерживают SQL-запросы, что позволяет удобно анализировать и формировать отчеты. 
 Из популярных реляционных СУБД: PostgeSQL, MySQL, а также Oracle или Microsoft SQL Server.
 
 
**Кейс 1.1* **

В СУБД хеширование выполняется с использованием хеш-функций. Выбираются данные , применяются хеш-функции, полученый хеш-код сохраняется в базе данных, для этого выделен столбец для хранения хеш-кодов. При  необходиости осуществляется проверка данных (сравнение хеш-кодов с сохраненными в базе данных). Если хеширование в СУБД начало занимать слишком много времени, то для ускорения работы  можно использовать иные алгоритмы хеширования. Кроме того применять параллельное хэширование, использовать программное обеспечение для хеширования специализирующиеся на хешировании с высокой производительностью, существую различные библиотеки  для хеширования такие как OpenSSL, Bcrypt, Libsodium и др. 
Сервер должен поддерживать аппаратное ускорение, в этом случае можн оиспользовать специальное оборудоваение - криптографические ускорители (Cryptographic Accelerators) или графические процессоры (GPUs).
 
**Кейс 1.2**

Для лендингов и CRM систем, можно использовать  реляционную СУБД), такие как MySQL,PostgeSQL,Microsoft SQL Server и т.д. В реляционных СУБД обеспечивается структурированное хранение данных, поддерживаются транзакции, они обеспечивают целостность данных. 
Все зависит от используемой CRM , например CRM Microsoft Dynamics 365 - интегрированная платформа бизнес-приложений с CRM функциональностью имеет в составе компонент SQL Server Database. Также одна из популярных CRM систем - Salesforce уже использует СУБД NoSQL, известную как HBase (СУБД класса NoSQL с открытым исходным кодом). 

**Кейс 1.2***

Наиболее верное верное решение это применять CRM-системы, позволяющие получать отчетность и аналитику. Например среди рассмотренных - Salesforce с реализацией хранения данных в СУБД NoSQL.



**Кейс 1.3**

Для реализациии хранения данных подойдет реляционная СУБД. Например PostgeSQL, MySQL и т.д. Каждая таблица будет содержать информацию о своих объектах (нормы, правила, материалы, структура компании), а поля в таблице будут хранить данные о каждом объекте. Для упрощения работы с базой данных, можно также создать связи между таблицами. Такая структура базы данных позволит легко хранить и обновлять информацию и  организовывать структуру компании в единой системе управления. Кроме того можно реализовать на NoSQL СУБД если хранить данные не ввиде таблиц, а  в виде документов либо коллекций. 

**Кейс 1.3***

Хранение данных в виде документов реализован у MongoDB — система управления базами данных, которая работает с документоориентированной моделью данных. MongoDB не использует схемы, как это делают реляционные базы данных, что повышает производительность всей системы. В такой СУБД  поиск осуществляется по специальным запросам, тем самым обеспечивается простой доступ к данным в отличии от запросов в формате SQL.



**Кейс 1.4**

Для формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов можно использовать реляционную СУБД, например PostgeSQL. Для курьера и департамента логиситики оргнизивать связь через клиент-серверное приложение. В клиентской части получать данные об адресе назначения, текст задания "доставка документов" с описанием задяния и отметку о выполнении. На сервер будут пердаваться данные по маршрутам, геометки. Также информация о выполнении задания, и сопутствующие параметры (время доставки, общий путь курьера, и т.д.)

**Кейс 1.4***

Для оперативной работы необходима связь между СУБД отдела закупок и департамента логистики. Отдел закупок может работать в собственной СУБД.  Например в Документоориентированной СУБД. 
Для работы отдела необходимо обеспечивать поступление товаров, сырья, инвентаря для изготовления продукта. Также должен контролировать наличие запасов товара, и регулировать выбор и взаимоотношения с поставщиками, а значит в СУБД должна быть вся необходимая информация. 

**Кейс 1.5***

Стоит рассмотреть возможность использования графовых СУБД, вместо традиционной таблицы с рядами и столбцами, данные в графовой базе данных представлены в виде узлов (вершин) и ребер (связей). В таких системах   обеспечивается быстрый доступ к связям между данными, что делает их особенно полезными для приложений, требующих анализа и обработки сложных взаимосвязей. Также графовые СУБД позволяют легко добавлять новые типы узлов и ребер без изменения схемы базы данных. Графовая модель представления данных естественным образом отражает структуру и отношения между объектами. Из популярных СУБД - Amazon Neptune, JanusGraph каждая имеет свои особенности и возможности.



---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

*Приведите ответ в свободной форме.*

---

**Выполнение задания 2.**

**2.1**

1) Выбор платежного способа оплаты (электронные платежные системы, кредитная или дебетовая карта или другие доступные методы )
2) Ввод данных платежа (номер телефона и суммы пополнения баланса) 
3) Проверка данных и аутентификация (система проверяет правильность введенных данных:  корректность ввода номера, аутентификацию в плтаженой системе с проверкой достаточности средств на счете)
4) Обработка платежа (подтверждение личности пользователя через пароль, одноразовый код или другие методы безопасности при банковских опрециях)
5) Обновление баланса (перевод средств на счёт мобильного телефона)
6) Уведомление о успешной транзакции (пользователь получает уведомление о результате транзакции, которое может быть отображено на экране USSD, отправлено по электронной почте или SMS-сообщением.)

**2.1***

в настройках уже задан счёт с которго будет осуществлен перевод денежных средств, указан номер мобильного телефона. Планировщик в приложении банка, значит он осуществляет действия от пользователя, дополнительных авторизаций и проверок со стороны пользователя не требуется.

1) Выполние запланированого дейстия автоплатежа (например, пополнять счёт раз в месяц, либо по критерию недостаточной суммы баланса)
2) Обновление баланса (перевод средств на счёт мобильного телефона)
3) Уведомление о успешной транзакции (пользователь получает уведомление о результате транзакции, которое может быть отображено на экране USSD, отправлено по электронной почте или SMS-сообщением.)

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

*Приведите ответ в свободной форме.*

---

**Выполнение задания 3.**

1) Структурированость данных. Все данные представлены в виде таблицы, что очень удобно для восприятия.
2) Язык запросов SQL является стандартным языком для работы с реляционными базами данных и обладает простым и интуитивно понятным синтаксисом, что делает его доступным для разработчиков и аналитиков данных. 
3) Высокая производительностью при выполнении транзакций и сложных операций над данными. В базах данных поддерживаются ACID-свойства (атомарность, согласованность, изолированность, долговечность), которые гарантируют надежность транзакции.
4) Возможность выполнения сложных запросов, объединения таблиц, агрегации данных.
5) SQL-системы (Реляционные СУБД) поддерживают средства контроля целостности данных, аутентификацию, ролевой контроль доступа, резервное копирование и восстановление данных, а также отвечают требованиям ACID (атомарность, согласованность, изоляция и долговечность.) 

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин. 

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* здесь справится лучше всего и почему?

*Приведите ответ в свободной форме.*

---

**Выполнение задания 4.**

Для большого количество вычислений при работе с огромным количеством данных требуется отказоустойчивая база данных, которая должна быть масштабируемой, обладать низкая задержкой доступа, поддерживать быстрые операции записи и чтения данных, а также иметь многоуровневую репликацию данных. 

СУБД такого уровня должна обеспечивать горизонтальное масштабирование и репликацию данных на различные узлы, возможность добавления новых узлов в кластер для увеличения пропускной способности и хранения больших объемов данных. 

По всем параметрам подходят СУБД типа NoSQL (не реляционные) базы данных,  предназначеные для обработки и хранения структурированных и неструктурированных данных в распределенной среде. 

 Например *Apache Hadoop* -  свободно распространяемый набор утилит, библиотек и фреймворк для разработки и выполнения распределённых программ, работающих на кластерах из сотен и тысяч узлов. Включающий в себя распределённую файловую систему и  фреймворк для обработки и анализаданных.